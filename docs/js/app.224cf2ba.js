(function(){"use strict";var e={1846:function(e,n,t){var r=t(9242),o=t(3396);function l(e,n,t,r,l,i){const a=(0,o.up)("Problem14");return(0,o.wg)(),(0,o.j4)(a)}var i=t(7139);const a=e=>((0,o.dD)("data-v-e3a74d20"),e=e(),(0,o.Cn)(),e),s=a((()=>(0,o._)("h2",null,"--- Day 14: Regolith Reservoir ---",-1))),u=a((()=>(0,o._)("p",null,[(0,o.Uk)("The distress signal leads you to a giant waterfall! Actually, hang on - the signal seems like it's coming from the waterfall itself, and that doesn't make any sense. However, you do notice a little path that leads "),(0,o._)("em",null,"behind"),(0,o.Uk)(" the waterfall.")],-1))),d=a((()=>(0,o._)("p",null,[(0,o._)("a",{href:"https://adventofcode.com/2022/day/14"},"<â€¦>")],-1))),f=a((()=>(0,o._)("p",null,[(0,o.Uk)("Using your scan, simulate the falling sand. "),(0,o._)("em",null,"How many units of sand come to rest before sand starts flowing into the abyss below?")],-1))),p=a((()=>(0,o._)("br",null,null,-1))),c=a((()=>(0,o._)("br",null,null,-1))),h=a((()=>(0,o._)("br",null,null,-1))),m={ref:"simul",class:"simul"};function v(e,n,t,l,a,v){return(0,o.wg)(),(0,o.iD)("article",null,[s,u,d,f,(0,o.Uk)(" upload input: "),(0,o._)("input",{type:"file",onChange:n[0]||(n[0]=(...e)=>v.upload&&v.upload(...e))},null,32),(0,o.Uk)(),p,(0,o.wy)((0,o._)("input",{type:"checkbox","onUpdate:modelValue":n[1]||(n[1]=e=>a.animate=e)},null,512),[[r.e8,a.animate]]),(0,o.Uk)("animate "),c,(0,o.wy)((0,o._)("input",{type:"checkbox","onUpdate:modelValue":n[2]||(n[2]=e=>a.floor=e)},null,512),[[r.e8,a.floor]]),(0,o.Uk)("floor "),h,a.animate?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)(" skip by: "),(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":n[3]||(n[3]=e=>a.speed=e)},null,512),[[r.nr,a.speed]])],64)),(0,o._)("p",null,[(0,o.Uk)("Number of grains: "),(0,o._)("em",null,(0,i.zw)(a.n),1)]),(0,o._)("div",m,null,512)])}t(7658);var b="498,4 -> 498,6 -> 496,6\n503,4 -> 502,4 -> 502,9 -> 494,9";let w=null,y=null;function g(e){for(let n=0;n<1e3;n++){let n=[];for(let e=0;e<1e3;e++)n.push(0);e.push(n)}return e}window.sand=y,window.rock=w;let k=0,_=0;function U(e,n){for(let t=e[0];t<=n[0];t++)w[e[1]][t]=1,e[1]>_&&(_=e[1]);for(let t=e[1];t<=n[1];t++)w[t][e[0]]=1}var S={name:"Problem14",data(){return{currentSand:[0,500],animate:!0,floor:!1,speed:10,n:0,input:b}},watch:{input(){this.init()},animate(){this.render()},speed(){this.render()},floor(e){if(e)for(let n=0;n<1e3;n++)w[_+2][n]=1;else for(let n=0;n<1e3;n++)w[_+2][n]=0}},mounted(){this.init()},methods:{init(){w=g([]),y=g([]),_=0,k=-1;let e=this.input.split("\n");for(let n of e){let e=n.split(" -> ");for(let n=0;n<e.length;n++){let t=e[n].split(",").map((e=>parseInt(e))),r=e[n+1]?.split(",").map((e=>parseInt(e)));r&&(t[0]<r[0]||t[1]<r[1]?U(t,r):U(r,t))}}setTimeout((()=>{k=0,this.render()}),1e3),this.moveSand()},upload(e){let n=e.target.files[0],t=new FileReader;t.readAsText(n),t.addEventListener("load",(e=>{this.input=e.target.result}))},doesCollide(e,n){return w[e][n]||y[e][n]},nextSand(e){let n=e[0],t=e[1];return this.doesCollide(n+1,t)?this.doesCollide(n+1,t-1)?this.doesCollide(n+1,t+1)?[n,t]:[n+1,t+1]:[n+1,t-1]:[n+1,t]},moveSand(e=[0,500]){if(-1===k)return;let n=this.nextSand(e);e[0]!=n[0]||e[1]!=n[1]?n[0]>=_+5?(this.render(),setTimeout((()=>{this.moveSand()}),1e3)):(this.currentSand=n,this.animate?(this.render(),setTimeout((()=>{this.moveSand(n)}),100)):this.moveSand(n)):0==e[0]&&500==e[1]||(y[e[0]][e[1]]=1,k%this.speed==0&&(k=0,this.render()),setTimeout((()=>{this.moveSand()}),0),k+=1)},render(){let e=this.$refs["simul"],n="";for(let r=0;r<_+5;r++){for(let e=0;e<1e3;e++)0===r&&500===e?n+='<span class="source">+</span>':r===this.currentSand[0]&&e===this.currentSand[1]?n+='<span class="sand">o</span>':w[r][e]?n+='<span class="rock">#</span>':y[r][e]?n+='<span class="sand">o</span>':n+=".";n+="\n"}let t=0;for(let r of y)for(let e of r)e&&(t+=1);this.n=t,e.innerHTML=n}}},O=t(89);const x=(0,O.Z)(S,[["render",v],["__scopeId","data-v-e3a74d20"]]);var T=x,C={name:"App",components:{Problem14:T}};const j=(0,O.Z)(C,[["render",l]]);var P=j;(0,r.ri)(P).mount("#app")}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var l=n[r]={exports:{}};return e[r](l,l.exports,t),l.exports}t.m=e,function(){var e=[];t.O=function(n,r,o,l){if(!r){var i=1/0;for(d=0;d<e.length;d++){r=e[d][0],o=e[d][1],l=e[d][2];for(var a=!0,s=0;s<r.length;s++)(!1&l||i>=l)&&Object.keys(t.O).every((function(e){return t.O[e](r[s])}))?r.splice(s--,1):(a=!1,l<i&&(i=l));if(a){e.splice(d--,1);var u=o();void 0!==u&&(n=u)}}return n}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[r,o,l]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,r){var o,l,i=r[0],a=r[1],s=r[2],u=0;if(i.some((function(n){return 0!==e[n]}))){for(o in a)t.o(a,o)&&(t.m[o]=a[o]);if(s)var d=s(t)}for(n&&n(r);u<i.length;u++)l=i[u],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(d)},r=self["webpackChunkadvent2022"]=self["webpackChunkadvent2022"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}();var r=t.O(void 0,[998],(function(){return t(1846)}));r=t.O(r)})();
//# sourceMappingURL=app.9c97d8b1.js.map